# ============================================================================
# Vaultize Analytics Platform - Environment Configuration
# ============================================================================
#
# Copy this file to .env and customize for your environment
#
# Authors: Balaji Rajan and Claude (Anthropic)
# License: Apache 2.0
#

# ============================================================================
# OpenSearch Configuration
# ============================================================================

OPENSEARCH_VERSION=2.11.1
OPENSEARCH_CLUSTER_NAME=vaultize-cluster
OPENSEARCH_JAVA_OPTS=-Xms512m -Xmx512m

# Connection Settings (CHANGE FOR PRODUCTION)
# For Docker Compose: use service name (opensearch-node-1)
# For external deployment: use actual hostname/IP
OPENSEARCH_HOST=opensearch-node-1
OPENSEARCH_PORT=9200
OPENSEARCH_SCHEME=http  # Use 'https' in production

# Security (TODO: Enable in production)
OPENSEARCH_SECURITY_ENABLED=false
OPENSEARCH_ADMIN_USERNAME=admin
OPENSEARCH_ADMIN_PASSWORD=admin  # CHANGE IN PRODUCTION!

# ============================================================================
# OpenSearch Dashboards Configuration
# ============================================================================

OPENSEARCH_DASHBOARDS_VERSION=2.11.1
OPENSEARCH_DASHBOARDS_PORT=5601

# Public URL (CHANGE FOR PRODUCTION)
# Development: http://localhost:5601
# Production: https://dashboards.example.com
OPENSEARCH_DASHBOARDS_PUBLIC_URL=http://localhost:5601
OPENSEARCH_DASHBOARDS_BASE_PATH=  # e.g., /dashboards if behind reverse proxy

# ============================================================================
# Fluent Bit Configuration
# ============================================================================

FLUENT_BIT_VERSION=2.2.0
FLUENT_BIT_HTTP_PORT=2020
FLUENT_BIT_FORWARD_PORT=24224

# OpenSearch output configuration (CHANGE FOR PRODUCTION)
# For Docker Compose: use service name
# For external: use actual hostname/IP
FLUENT_BIT_OPENSEARCH_HOST=opensearch-node-1
FLUENT_BIT_OPENSEARCH_PORT=9200
FLUENT_BIT_OPENSEARCH_SCHEME=http  # Use 'https' in production

# ============================================================================
# Prometheus Configuration (Optional)
# ============================================================================

PROMETHEUS_VERSION=v2.48.1
PROMETHEUS_PORT=9090
PROMETHEUS_RETENTION=15d

# Public URL (CHANGE FOR PRODUCTION)
PROMETHEUS_URL=http://localhost:9090

# ============================================================================
# Grafana Configuration (Optional)
# ============================================================================

GRAFANA_VERSION=10.2.3
GRAFANA_PORT=3000
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin  # CHANGE IN PRODUCTION!

# Public URL (CHANGE FOR PRODUCTION)
# Development: http://localhost:3000
# Production: https://grafana.example.com
GRAFANA_URL=http://localhost:3000
GRAFANA_ROOT_URL=http://localhost:3000

# ============================================================================
# Analytics API Configuration
# ============================================================================

API_HOST=0.0.0.0
API_PORT=8000
API_LOG_LEVEL=INFO
API_WORKERS=4
API_RELOAD=false  # Set to true in development

# Public URL (CHANGE FOR PRODUCTION)
# Development: http://localhost:8000
# Production: https://api.example.com
API_BASE_URL=http://localhost:8000
API_ROOT_PATH=/api/v1

# CORS Configuration
# Development: * (allow all)
# Production: https://example.com,https://app.example.com
API_CORS_ORIGINS=*

# ============================================================================
# Alerting Service Configuration
# ============================================================================

ALERTING_LOG_LEVEL=INFO
ALERTING_CHECK_INTERVAL=60  # seconds
ALERTING_WEBHOOK_TIMEOUT=10  # seconds

# ============================================================================
# Network Configuration
# ============================================================================

NETWORK_SUBNET=172.25.0.0/16

# ============================================================================
# Storage Configuration
# ============================================================================

# Data retention policies
LOG_RETENTION_DAYS=30
METRICS_RETENTION_DAYS=15

# ============================================================================
# Resource Limits
# ============================================================================

# Memory limits (optional)
OPENSEARCH_MEM_LIMIT=1g
FLUENT_BIT_MEM_LIMIT=256m
PROMETHEUS_MEM_LIMIT=512m
GRAFANA_MEM_LIMIT=256m

# ============================================================================
# Development Settings
# ============================================================================

# Set to 'development' or 'production'
ENVIRONMENT=development

# Enable debug mode
DEBUG=false

# ============================================================================
# External Integrations (Optional)
# ============================================================================

# Webhook for alerts
# ALERT_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# Email settings (if using email notifications)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USERNAME=your-email@gmail.com
# SMTP_PASSWORD=your-password
# SMTP_FROM=alerts@vaultize.local
